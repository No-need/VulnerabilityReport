using Microsoft.EntityFrameworkCore;

namespace VulnerabilityReport.Models.DataBase
{
    public class VulnerabilityReportContext:DbContext
    {
        public VulnerabilityReportContext(DbContextOptions<VulnerabilityReportContext> options)
    : base(options)
        {
        }

        public virtual DbSet<Project> Projects { get; set; }

        public virtual DbSet<Report> Reports { get; set; }

        public virtual DbSet<Vulnerability> Vulnerabilities { get; set; }

        protected override void OnModelCreating(ModelBuilder modelBuilder)
        {
            //modelBuilder.Entity<Report>(entity =>
            //{
            //    entity.ToTable("Reports");
            //});

            //modelBuilder.Entity<Vulnerability>(entity =>
            //{
            //    entity.ToTable("Vulnerabilities");

            //    entity.HasOne(d => d.Report).WithMany(p => p.Vulnerabilities)
            //        .HasForeignKey(d => d.ReportID)
            //        .OnDelete(DeleteBehavior.ClientSetNull)
            //        .HasConstraintName("FK_Vulnerabilities_Reports_ReportID");
            //});
        }
    }
}
